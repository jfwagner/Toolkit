!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!
! Calibration curves for main SPS magnets
! Valid below saturation
! See Appendix 2 - CERN/SL-Note-2001-030 MD
!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

option, echo;

ON_CS := 1.0; !switches on(1.0)/off(0.0) main sextupoles
ON_ES := 1.0; !switches on(1.0)/off(0.0) extraction sextupoles
ON_OC := 1.0; !switches on(1.0)/off(0.0) main octupoles
ON_SQ := 1.0; !switches on(1.0)/off(0.0) skew quads
 
!---------------------------------------------------------------------
! main sextupoles
! main sextupole current in A

ISDA := 0.0;
ISDB := 0.0;
ISFA := 0.0;
ISFB := 0.0;
ISFC := 0.0;



!strength of sextupoles in m-3 
KSDA   := ON_CS*(10.836e-3)*26.0/LSD->L*ISDA/beam->pc;
KSDB   := ON_CS*(10.836e-3)*26.0/LSD->L*ISDB/beam->pc;
KSFA   := ON_CS*(4.188e-3)*26.0/LSF->L*ISFA/beam->pc;
KSFB   := ON_CS*(4.188e-3)*26.0/LSF->L*ISFB/beam->pc;
KSFC   := ON_CS*(4.188e-3)*26.0/LSF->L*ISFB/beam->pc;

value, KSDA;
value, KSDB;
value, KSFA;
value, KSFB;
value, KSFC;


!---------------------------------------------------------------------
! main octupoles
! octupole current in A

ILOD := 0;
ILOF := 0;

!strength of octupoles in m-4
KLOD : = ON_OC*(-0.819)*26.0/LOD->L*ILOD/beam->pc;
KLOF : = ON_OC*(-0.217)*26.0/LOF->L*ILOF/beam->pc;


value, klod;
value, klof;


!------------------------------------------------------------------------
!extraction sextupoles
!sextupole current in A 

ISE  := 0.0;
ISEN := 0.0;

!strength of sextupoles in m-3 
KSE  : = ON_ES*(-10.836E-3)*26.0/LSE->L*ISE/beam->pc;
KSEN : = ON_ES*(-9.502E-3)*26.0/LSEN->L*ISEN/beam->pc;

value, kse;
value, ksen;


!------------------------------------------------------------------------
!skew quadrupoles
!skew quad current in A 

IQS := 0.0;

!strength of skew quadrupoles in m-2 
kQS := ON_SQ*4.6E-4*26.0/LQS->L*IQS/beam->pc;

value, kqs;
!------------------------------------------------------------------------

option, -echo;
return;














